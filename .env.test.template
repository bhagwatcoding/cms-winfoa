/**
 * Testing Environment Configuration
 * Automated testing environment variables
 * 
 * @module TestingEnv
 * @description Testing environment configuration for CI/CD
 * 
 * IMPORTANT: This file is used for automated testing and CI/CD pipelines.
 */

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

NODE_ENV=test
NEXT_PUBLIC_APP_URL=http://localhost:3001
NEXT_PUBLIC_API_URL=http://localhost:3001/api

APP_NAME=Winfoa Multi-Subdomain Platform (Test)
APP_VERSION=3.0.0-test

# =============================================================================
# SUBDOMAIN CONFIGURATION
# =============================================================================

MAIN_DOMAIN=localhost

AUTH_SUBDOMAIN=auth.localhost
DASHBOARD_SUBDOMAIN=app.localhost
GOD_SUBDOMAIN=god.localhost
MYACCOUNT_SUBDOMAIN=account.localhost
UMP_SUBDOMAIN=ump.localhost
WALLET_SUBDOMAIN=wallet.localhost

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# In-memory MongoDB for testing (MongoDB Memory Server)
MONGODB_URI=mongodb://localhost:27017/winfoa-test
MONGODB_DB_NAME=winfoa-test

# Redis Testing (Use separate DB)
REDIS_URL=redis://localhost:6379
REDIS_DB=15  # Use high-numbered DB for testing

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration (Test-specific secrets)
JWT_SECRET=test-jwt-secret-key-256-bits-minimum-length-required
JWT_EXPIRES_IN=1h  # Shorter expiration for testing
JWT_REFRESH_SECRET=test-jwt-refresh-secret-key-256-bits-minimum
JWT_REFRESH_EXPIRES_IN=2h

# NextAuth Configuration
NEXTAUTH_URL=http://localhost:3001
NEXTAUTH_SECRET=test-nextauth-secret-key-256-bits-minimum-length

# Session Configuration
SESSION_SECRET=test-session-secret-key-256-bits-minimum-length
SESSION_MAX_AGE=3600  # 1 hour for testing
SESSION_COOKIE_NAME=winfoa-session-test

# Security Configuration (Relaxed for testing)
BCRYPT_ROUNDS=10  # Faster hashing for tests
RATE_LIMIT_WINDOW=60000  # 1 minute
RATE_LIMIT_MAX=1000  # Very high limit for testing
CORS_ORIGIN=http://localhost:3001

# =============================================================================
# EXTERNAL SERVICES (MOCKED)
# =============================================================================

# Email Configuration (Mock service)
EMAIL_PROVIDER=mock
EMAIL_HOST=localhost
EMAIL_PORT=1025
EMAIL_SECURE=false
EMAIL_USER=test
EMAIL_PASSWORD=test
EMAIL_FROM=test@winfoa.com

# SMS Configuration (Mock)
SMS_PROVIDER=mock
SMS_TWILIO_ACCOUNT_SID=test_account_sid
SMS_TWILIO_AUTH_TOKEN=test_auth_token
SMS_TWILIO_PHONE_NUMBER=+1234567890

# File Storage Configuration (Local storage)
STORAGE_PROVIDER=local
AWS_ACCESS_KEY_ID=test_access_key
AWS_SECRET_ACCESS_KEY=test_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=winfoa-test-bucket

# =============================================================================
# MONITORING & ANALYTICS (DISABLED)
# =============================================================================

# Sentry Configuration (Disabled)
SENTRY_DSN=
SENTRY_ENVIRONMENT=test
SENTRY_RELEASE=3.0.0-test

# Google Analytics (Disabled)
GA_TRACKING_ID=
GA_MEASUREMENT_ID=

# Mixpanel (Disabled)
MIXPANEL_TOKEN=

# =============================================================================
# PAYMENT & FINANCIAL (MOCKED)
# =============================================================================

# Stripe Configuration (Test Mode)
STRIPE_PUBLISHABLE_KEY=pk_test_mock_test_key_for_testing_only
STRIPE_SECRET_KEY=sk_test_mock_test_key_for_testing_only
STRIPE_WEBHOOK_SECRET=whsec_mock_test_webhook_secret

# PayPal Configuration (Mock)
PAYPAL_CLIENT_ID=test_client_id
PAYPAL_CLIENT_SECRET=test_client_secret
PAYPAL_ENVIRONMENT=sandbox

# =============================================================================
# SOCIAL AUTHENTICATION (MOCKED)
# =============================================================================

# Google OAuth (Mock)
GOOGLE_CLIENT_ID=test_google_client_id
GOOGLE_CLIENT_SECRET=test_google_client_secret

# GitHub OAuth (Mock)
GITHUB_CLIENT_ID=test_github_client_id
GITHUB_CLIENT_SECRET=test_github_client_secret

# Facebook OAuth (Mock)
FACEBOOK_CLIENT_ID=test_facebook_client_id
FACEBOOK_CLIENT_SECRET=test_facebook_client_secret

# =============================================================================
# TESTING SETTINGS
# =============================================================================

# Testing Settings
DEBUG=true
LOG_LEVEL=debug
ENABLE_SWAGGER=true
ENABLE_GRAPHIQL=true
GENERATE_SOURCEMAPS=true

# Test Database Configuration
TEST_DATABASE_CLEANUP=true  # Clean up test data after tests
TEST_DATABASE_SEED=true     # Seed test data before tests

# Test User Configuration
TEST_USER_COUNT=10
TEST_ADMIN_COUNT=2
TEST_DATA_SEED=12345  # Consistent seed for reproducible tests

# =============================================================================
# FEATURE FLAGS (ALL ENABLED FOR TESTING)
# =============================================================================

# Feature Flags (All enabled for comprehensive testing)
FEATURE_NEW_DASHBOARD=true
FEATURE_ANALYTICS=true
FEATURE_NOTIFICATIONS=true
FEATURE_PAYMENTS=true
FEATURE_SOCIAL_LOGIN=true
FEATURE_TWO_FACTOR_AUTH=true
FEATURE_WEBHOOKS=true

# =============================================================================
# PERFORMANCE CONFIGURATION (OPTIMIZED FOR SPEED)
# =============================================================================

# Cache Configuration (Disabled for testing)
CACHE_TTL=0     # No caching in tests
CACHE_MAX_SIZE=0

# CDN Configuration (Disabled)
CDN_ENABLED=false
CDN_URL=http://localhost:3001
CDN_ASSETS_URL=http://localhost:3001

# Image Optimization (Disabled for speed)
IMAGE_OPTIMIZATION=false
IMAGE_QUALITY=50
IMAGE_FORMATS=jpg

# =============================================================================
# WEBHOOK CONFIGURATION (MOCKED)
# =============================================================================

# Webhook Settings
WEBHOOK_SECRET=test-webhook-secret-key
WEBHOOK_TIMEOUT=5000  # 5 seconds
WEBHOOK_MAX_RETRIES=1  # Single retry
WEBHOOK_RETRY_DELAY=1000  # 1 second

# =============================================================================
# ADMINISTRATION
# =============================================================================

# Admin Configuration
ADMIN_EMAIL=test-admin@winfoa.com
ADMIN_PHONE=+1234567890
ADMIN_NOTIFICATIONS=false  # Disable for tests

# System Configuration
SYSTEM_MAINTENANCE=false
SYSTEM_VERSION=3.0.0-test
SYSTEM_TIMEZONE=UTC

# =============================================================================
# TESTING FRAMEWORK CONFIGURATION
# =============================================================================

# Jest Configuration
JEST_TIMEOUT=30000  # 30 seconds
JEST_VERBOSE=true
JEST_COVERAGE=true
JEST_COVERAGE_THRESHOLD=80  # 80% coverage required

# Test Execution Configuration
TEST_PARALLEL=true
TEST_MAX_WORKERS=4
TEST_RETRY_COUNT=2

# API Testing Configuration
API_TEST_TIMEOUT=10000
API_TEST_RETRIES=1
API_TEST_BASE_URL=http://localhost:3001

# Browser Testing Configuration
BROWSER_TEST_HEADLESS=true
BROWSER_TEST_TIMEOUT=30000
BROWSER_TEST_RETRIES=2